name: CI to Docker Hub

on:
  push:
    branches: [ master ]

jobs:
  build:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        base: [
          slim-bullseye, bullseye,
          slim-buster, buster,
          slim-stretch, stretch,
          alpine3.13, alpine3.14
        ]
        version: ["3.10", "3.9", "3.8"]
    steps:
      -
        name: Show tag
        if: hashFiles('./${{ matrix.version }}/${{ matrix.base }}/Dockerfile') != ''
        run: echo "${{ matrix.version }}-${{ matrix.base }}"
    